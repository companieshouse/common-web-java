<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>

	<groupId>uk.gov.companieshouse</groupId>
	<artifactId>common-web-java</artifactId>
	<version>unversioned</version>
	<packaging>jar</packaging>

	<name>Common Web Java</name>
	<description>Location for Web resources that can be reused by other Java Web modules</description>

	<properties>
		<project.build.sourceEncoding>UTF-8</project.build.sourceEncoding>
		<project.reporting.outputEncoding>UTF-8</project.reporting.outputEncoding>
		<java.version>1.8</java.version>
		<spring-boot-starter-thymeleaf.version>2.0.5.RELEASE</spring-boot-starter-thymeleaf.version>

		<!-- Sonar -->
		<sonar-maven-plugin.version>3.4.0.905</sonar-maven-plugin.version>
		<sonar.host.url>${CODE_ANALYSIS_HOST_URL}</sonar.host.url>
		<sonar.login>${CODE_ANALYSIS_LOGIN}</sonar.login>
		<sonar.password>${CODE_ANALYSIS_PASSWORD}</sonar.password>
	</properties>

	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-thymeleaf</artifactId>
			<version>${spring-boot-starter-thymeleaf.version}</version>
		</dependency>
	</dependencies>

	<profiles>
	<!-- release-publish is the profile that is activated when the build server
      builds and publishes a release project to the cloud artifactory -->
	<profile>
		<id>release-publish</id>
		<activation>
			<property>
				<name>publishRepo</name>
				<value>release</value>
			</property>
		</activation>
		<properties>
			<artifactoryReleasePublishRepo>libs-release-local</artifactoryReleasePublishRepo>
		</properties>
		<distributionManagement>
			<repository>
				<id>ch-artifactory</id>
				<url>${MAVEN_REPOSITORY_URL}/${artifactoryReleasePublishRepo}</url>
			</repository>
		</distributionManagement>
	</profile>
	<!-- dev-publish is the profile that is activated when the build server
      builds and publishes a dev snapshot project to the cloud artifactory -->
	<profile>
		<id>dev-publish</id>
		<activation>
			<property>
				<name>publishRepo</name>
				<value>dev</value>
			</property>
		</activation>
		<properties>
			<artifactoryDevPublishRepo>libs-snapshot-local</artifactoryDevPublishRepo>
		</properties>
		<distributionManagement>
			<repository>
				<id>ch-artifactory</id>
				<url>${MAVEN_REPOSITORY_URL}/${artifactoryDevPublishRepo}</url>
			</repository>
		</distributionManagement>
	</profile>
	</profiles>

	<repositories>
		<repository>
			<id>ch-artifactory-release</id>
			<url>${MAVEN_REPOSITORY_URL}/${artifactoryResolveReleaseRepo}</url>
		</repository>
		<repository>
			<id>ch-artifactory-snapshot</id>
			<url>${MAVEN_REPOSITORY_URL}/${artifactoryResolveSnapshotRepo}</url>
		</repository>
	</repositories>
</project>